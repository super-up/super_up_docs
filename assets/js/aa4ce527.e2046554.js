"use strict";(globalThis.webpackChunksuper_up_docs=globalThis.webpackChunksuper_up_docs||[]).push([[109],{212:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/pk_media_editor-14e102927b3953e1f1a005e42f81446a.png"},2202:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>s});var t=n(4320),i=(n(7953),n(8860));const l={sidebar_position:2},o="Flutter",r={unversionedId:"flutter",id:"flutter",title:"Flutter",description:"---",source:"@site/docs/flutter.md",sourceDirName:".",slug:"/flutter",permalink:"/super_up_docs/docs/flutter",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Super up Intro",permalink:"/super_up_docs/docs/intro"},next:{title:"Backend (Nodejs)",permalink:"/super_up_docs/docs/backend"}},p={},s=[{value:"Lest explain packages",id:"lest-explain-packages",level:3},{value:"Change app name,package,logo",id:"change-app-namepackagelogo",level:3},{value:"Full environment setup (Android/iOS/Web/macOS/Windows)",id:"full-environment-setup-androidioswebmacoswindows",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Android setup",id:"android-setup",level:4},{value:"iOS setup",id:"ios-setup",level:4},{value:"Web setup",id:"web-setup",level:4},{value:"macOS/Windows",id:"macoswindows",level:4},{value:"Connect firebase",id:"connect-firebase",level:3},{value:"Firebase configuration details",id:"firebase-configuration-details",level:4},{value:"SConstants",id:"sconstants",level:3},{value:"CORS/Domain considerations",id:"corsdomain-considerations",level:4},{value:"Add more language",id:"add-more-language",level:3},{value:"Ads",id:"ads",level:3},{value:"Agora.io",id:"agoraio",level:3},{value:"Google api key",id:"google-api-key",level:3},{value:"Notifications iOS (APNS) AND VOIP",id:"notifications-ios-apns-and-voip",level:3},{value:"iOS Background modes &amp; capabilities",id:"ios-background-modes--capabilities",level:4},{value:"how to update theme",id:"how-to-update-theme",level:3},{value:"First message page",id:"first-message-page",level:4},{value:"second Chats Room page",id:"second-chats-room-page",level:4},{value:"one signal",id:"one-signal",level:3},{value:"Admin panel",id:"admin-panel",level:3},{value:"publish",id:"publish",level:3},{value:"Store readiness checklist",id:"store-readiness-checklist",level:4}],d={toc:s},g="wrapper";function u({components:e,...a}){return(0,i.yg)(g,(0,t.A)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"flutter"},"Flutter"),(0,i.yg)("hr",null),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"project structure in split packages"),(0,i.yg)("li",{parentName:"ul"},"To run the project first activate ",(0,i.yg)("inlineCode",{parentName:"li"},"melos"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"dart pub global activate melos\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Then run this commend in the root of the project")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"melos bs\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"this code will run pub get for you in all packages\n",(0,i.yg)("img",{src:n(7799).A,width:"647",height:"683"})),(0,i.yg)("li",{parentName:"ul"},"we have the following"),(0,i.yg)("li",{parentName:"ul"},"apps (",(0,i.yg)("inlineCode",{parentName:"li"},"super_up_admin"),") this is the admin panel"),(0,i.yg)("li",{parentName:"ul"},"apps (",(0,i.yg)("inlineCode",{parentName:"li"},"super_up_app"),") this app you should run it"),(0,i.yg)("li",{parentName:"ul"},"packages all needed packages the most important packages is the ",(0,i.yg)("inlineCode",{parentName:"li"},"super_up_core")," the ",(0,i.yg)("inlineCode",{parentName:"li"},"s_constants.dart")," in\nthe ",(0,i.yg)("inlineCode",{parentName:"li"},"lib/src"))),(0,i.yg)("h3",{id:"lest-explain-packages"},"Lest explain packages"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"s_translate")," contains all arb files for ",(0,i.yg)("inlineCode",{parentName:"p"},"super_up_app"),",",(0,i.yg)("inlineCode",{parentName:"p"},"super_up_admin")," projects")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"super_up_core")," contains all logic for super up app itself like shared http requests,utils,widgets (DONT UPDATE)")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_firebase")," contains the firebase FCM only logic (DONT UPDATE)")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_input_ui")," this contains the ui and logic for the message input (recorder,file selector,location picker)\n",(0,i.yg)("img",{src:n(6996).A,width:"527",height:"74"}))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_media_editor")," this contains the ui of media editor\n",(0,i.yg)("img",{src:n(212).A,width:"526",height:"1065"}))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_message_page")," this contains the ",(0,i.yg)("inlineCode",{parentName:"p"},"ui & logic")," of message page\n",(0,i.yg)("img",{src:n(7479).A,width:"530",height:"997"}))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_room_page")," this contains the ",(0,i.yg)("inlineCode",{parentName:"p"},"ui & logic")," of chat page\n",(0,i.yg)("img",{src:n(8627).A,width:"531",height:"1060"}))),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("inlineCode",{parentName:"p"},"v_chat_sdk_core")," contains all logic for v_chat app itself like shared http requests, socket,notifications (DONT\nUPDATE)"))),(0,i.yg)("h3",{id:"change-app-namepackagelogo"},"Change app name,package,logo"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"each app must have ",(0,i.yg)("inlineCode",{parentName:"li"},"unique")," package name so you must change it! to be accepted in the stores"),(0,i.yg)("li",{parentName:"ul"},"this step should be done first before connect firebase"),(0,i.yg)("li",{parentName:"ul"},"we will use this package ",(0,i.yg)("a",{parentName:"li",href:"https://pub.dev/packages/rename"},"rename")),(0,i.yg)("li",{parentName:"ul"},"install by ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter pub global activate rename")),(0,i.yg)("li",{parentName:"ul"},"to change package name ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter pub global run rename --bundleId com.vchatsdk.vnotestarter"),"\nExample => ",(0,i.yg)("inlineCode",{parentName:"li"},"pub global run rename --bundleId com.XXXXXXX.XXXXXX")),(0,i.yg)("li",{parentName:"ul"},"to rename the app use ",(0,i.yg)("inlineCode",{parentName:"li"},'flutter pub global run rename --appname "YOUR APP NAME"')),(0,i.yg)("li",{parentName:"ul"},"to update logo just update the ",(0,i.yg)("inlineCode",{parentName:"li"},"logo.png")," in assets folder the logo must be ",(0,i.yg)("inlineCode",{parentName:"li"},".png")),(0,i.yg)("li",{parentName:"ul"},"then run the code in the super_up_app ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter pub run flutter_launcher_icons:main")),(0,i.yg)("li",{parentName:"ul"},"then this command ",(0,i.yg)("inlineCode",{parentName:"li"},"dart run flutter_native_splash:create"))),(0,i.yg)("h3",{id:"full-environment-setup-androidioswebmacoswindows"},"Full environment setup (Android/iOS/Web/macOS/Windows)"),(0,i.yg)("h4",{id:"prerequisites"},"Prerequisites"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Flutter SDK 3.29+ (or as stated in ",(0,i.yg)("inlineCode",{parentName:"li"},"intro.md"),") with ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter doctor")," all green"),(0,i.yg)("li",{parentName:"ul"},"Android Studio with Android SDK platforms 34+, NDK, and platform tools"),(0,i.yg)("li",{parentName:"ul"},"Xcode (for iOS/macOS) with command-line tools, CocoaPods ",(0,i.yg)("inlineCode",{parentName:"li"},"sudo gem install cocoapods")),(0,i.yg)("li",{parentName:"ul"},"Java 17 (recommended; set ",(0,i.yg)("inlineCode",{parentName:"li"},"JAVA_HOME"),")"),(0,i.yg)("li",{parentName:"ul"},"Melos installed and bootstrapped as above")),(0,i.yg)("h4",{id:"android-setup"},"Android setup"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Create signing key (for Play release):")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"keytool -genkey -v -keystore ~/superup.keystore -alias superup -keyalg RSA -keysize 2048 -validity 10000\n")),(0,i.yg)("ol",{start:2},(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Place keystore at ",(0,i.yg)("inlineCode",{parentName:"p"},"apps/super_up_app/android/app/superup.keystore"),".")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Create ",(0,i.yg)("inlineCode",{parentName:"p"},"apps/super_up_app/android/key.properties"),":"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-properties"},"storePassword=CHANGE_ME\nkeyPassword=CHANGE_ME\nkeyAlias=superup\nstoreFile=superup.keystore\n")),(0,i.yg)("ol",{start:4},(0,i.yg)("li",{parentName:"ol"},"Build:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"flutter build apk --split-per-abi\nflutter build appbundle\n")),(0,i.yg)("h4",{id:"ios-setup"},"iOS setup"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Update bundle identifier via the ",(0,i.yg)("inlineCode",{parentName:"li"},"rename")," tool as described"),(0,i.yg)("li",{parentName:"ul"},"Open ",(0,i.yg)("inlineCode",{parentName:"li"},"ios/Runner.xcworkspace")," in Xcode, set signing team, automatic signing"),(0,i.yg)("li",{parentName:"ul"},"Update ",(0,i.yg)("inlineCode",{parentName:"li"},"Info.plist")," for AdMob Google Ads App ID and any permissions (camera, mic, location)"),(0,i.yg)("li",{parentName:"ul"},"Build:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"flutter build ipa --export-options-plist=ExportOptions.plist\n")),(0,i.yg)("h4",{id:"web-setup"},"Web setup"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For best compatibility use HTML renderer:")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"flutter build web --release --web-renderer html\n")),(0,i.yg)("h4",{id:"macoswindows"},"macOS/Windows"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-bash"},"flutter config --enable-macos-desktop --enable-windows-desktop\nflutter build macos\nflutter build windows\n")),(0,i.yg)("h3",{id:"connect-firebase"},"Connect firebase"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Recommend to user firebase flutter CLI which its new tool to make the firebase base connect straightforward"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://firebase.google.com/docs/flutter/setup?platform=android"},"android")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://firebase.google.com/docs/flutter/setup?platform=ios"},"ios")),(0,i.yg)("li",{parentName:"ul"},"You can connect it easily be firebase follow up this ",(0,i.yg)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=G-mbqiE87Lw"},"video")),(0,i.yg)("li",{parentName:"ul"},"CLI ",(0,i.yg)("a",{parentName:"li",href:"https://firebase.google.com/docs/flutter/setup?platform=ios#install-cli-tools"},"tool"))),(0,i.yg)("h4",{id:"firebase-configuration-details"},"Firebase configuration details"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Android: ensure ",(0,i.yg)("inlineCode",{parentName:"li"},"google-services.json")," in ",(0,i.yg)("inlineCode",{parentName:"li"},"android/app/")),(0,i.yg)("li",{parentName:"ul"},"iOS: ensure ",(0,i.yg)("inlineCode",{parentName:"li"},"GoogleService-Info.plist")," in ",(0,i.yg)("inlineCode",{parentName:"li"},"ios/Runner/")),(0,i.yg)("li",{parentName:"ul"},"Add Firebase Messaging to receive pushes; on iOS enable Push + Background Modes"),(0,i.yg)("li",{parentName:"ul"},"If using APNs key, complete steps in Notifications section below")),(0,i.yg)("h3",{id:"sconstants"},"SConstants"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"This file inside packages in ","[super_up_core]"," in ",(0,i.yg)("inlineCode",{parentName:"li"},"lib/src/s_constants.dart")),(0,i.yg)("li",{parentName:"ul"},"This file contains the configuration of the app")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-dart"},'abstract class SConstants {\n  ///your super up base domain url\n  ///like this (example.com) not start https// or any sub domains example [superupdev.com] or server ip with port like [12.xxx.xxx:80]\n  /// case of you use server ip just put the server ip connected to the port [http://ip:port]\n  static const _productionBaseUrl = "superupdev.online";\n\n  ///your app name\n  static const appName = "Superup";\n\n  ///android and ios admob ids [https://developers.google.com/admob/flutter/quick-start] [https://developers.google.com/ad-manager/mobile-ads-sdk/flutter/quick-start]\n  static const androidAdUnitId = "ca-app-pub-3940256099942544/6300978111";\n  static const iosAdUnitId = "ca-app-pub-3940256099942544/2934735716";\n\n  ///setup video and voice calls [https://agora.io]\n  static const agoraAppId = "------------------------";\n\n  ///change this to your google maps api key to enable google maps location picker\n  static const googleMapsApiKey = "AIzaSyAP---------------------";\n\n  ///update this url to share the app for others\n  static const googlePlayUrl =\n      "https://play.google.com/store/apps/details?id=com.app.superup";\n  static const appleStoreUrl = "https://testflight.apple.com/join/F4tAbW5J";\n\n  ///get the onesignal id for push notifications [https://onesignal.com]\n  static const oneSignalAppId = "********-****-****-****-**************";\n\n  ///don\'t update update only if you use server ip just return your server ip with port [12.xxx.xxx:80/]\n  static String get baseMediaUrl {\n    ///if you dont setup domain yet you can return the server ip like this [return Uri.parse("http://ip:port/");]\n    return "https://api.$_productionBaseUrl/";\n  }\n\n  ///don\'t update update only if you use server ip just return your server ip with port [12.xxx.xxx:80/api/v1]\n  static Uri get sApiBaseUrl {\n    ///if you dont setup domain yet you can return the server ip like this [return Uri.parse("http://ip:port/api/v1");]\n    return Uri.parse("https://api.$_productionBaseUrl/api/v1");\n  }\n}\n')),(0,i.yg)("h4",{id:"corsdomain-considerations"},"CORS/Domain considerations"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Set ",(0,i.yg)("inlineCode",{parentName:"li"},"_productionBaseUrl")," to your apex domain, e.g., ",(0,i.yg)("inlineCode",{parentName:"li"},"example.com")),(0,i.yg)("li",{parentName:"ul"},"Backend must be available on ",(0,i.yg)("inlineCode",{parentName:"li"},"https://api.example.com")),(0,i.yg)("li",{parentName:"ul"},"If testing via IP/port, temporarily set ",(0,i.yg)("inlineCode",{parentName:"li"},"baseMediaUrl")," and ",(0,i.yg)("inlineCode",{parentName:"li"},"sApiBaseUrl")," to ",(0,i.yg)("inlineCode",{parentName:"li"},"http://IP:PORT/")," and ",(0,i.yg)("inlineCode",{parentName:"li"},"http://IP:PORT/api/v1"))),(0,i.yg)("h3",{id:"add-more-language"},"Add more language"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"You can add new language by just open the ","[s_translation]"," package"),(0,i.yg)("li",{parentName:"ul"},"And inside ",(0,i.yg)("inlineCode",{parentName:"li"},"lib/i18n")," create new file its name should follow the"),(0,i.yg)("li",{parentName:"ul"},"Standard of ",(0,i.yg)("inlineCode",{parentName:"li"},"intl_short language code.arb"),".arb"),(0,i.yg)("li",{parentName:"ul"},"Inside this file copy the ",(0,i.yg)("inlineCode",{parentName:"li"},"intl_en.arb")," and translate only the values and dont touch the key of the map"),(0,i.yg)("li",{parentName:"ul"},"Then, while you run the app, the new language will be added, and it will appears in the selections")),(0,i.yg)("h3",{id:"ads"},"Ads"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"get the ids from these urls get banner id for ios and android"),(0,i.yg)("li",{parentName:"ul"},"android and ios admob\nids ",(0,i.yg)("a",{parentName:"li",href:"https://developers.google.com/admob/flutter/quick-start"},"quick-start")," ",(0,i.yg)("a",{parentName:"li",href:"https://developers.google.com/ad-manager/mobile-ads-sdk/flutter/quick-start"},"mobile-ads-sdk")),(0,i.yg)("li",{parentName:"ul"},"dont forget to update the android add the ads app Id ",(0,i.yg)("inlineCode",{parentName:"li"},"android/app/src/main/AndroidManifest.xml")),(0,i.yg)("li",{parentName:"ul"},"and for ios open ",(0,i.yg)("inlineCode",{parentName:"li"},"ios/Runder/info.plist")," update the",(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre"},"        <key>GADApplicationIdentifier</key>\n    <string>Your app id</string>\n"))),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"APPLICATION_ID")," not unit id be ",(0,i.yg)("inlineCode",{parentName:"li"},"careful"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-xml"},'\n<meta-data\n        android:name="com.google.android.gms.ads.APPLICATION_ID"\n        android:value="ca-app-pub-YOUR KEY HERE!"/>\n')),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"put your android appId for ads here ",(0,i.yg)("inlineCode",{parentName:"li"},"android:value=")),(0,i.yg)("li",{parentName:"ul"},"for Ios update the ",(0,i.yg)("inlineCode",{parentName:"li"},"ios/Runner/Info.plist")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("pre",{parentName:"li"},(0,i.yg)("code",{parentName:"pre"},"<key>GADApplicationIdentifier</key>\n<string>ca-app-pub-YOUR KEY HERE!</string>\n")))),(0,i.yg)("h3",{id:"agoraio"},"Agora.io"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Create agora app and enable it copy the ",(0,i.yg)("inlineCode",{parentName:"li"},"appId")," and enable"),(0,i.yg)("li",{parentName:"ul"},"Setup video and voice calls ",(0,i.yg)("a",{parentName:"li",href:"https://agora.io"},"agora"),(0,i.yg)("inlineCode",{parentName:"li"},'Static const agoraAppId = "------------------------";'),(0,i.yg)("img",{src:n(2934).A,width:"773",height:"789"})),(0,i.yg)("li",{parentName:"ul"},"enable the ",(0,i.yg)("inlineCode",{parentName:"li"},"Secondary Certificate"))),(0,i.yg)("h3",{id:"google-api-key"},"Google api key"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Get google api ",(0,i.yg)("a",{parentName:"li",href:"https://developers.google.com/admob/flutter/quick-start"},"key")," and enable all options like ",(0,i.yg)("inlineCode",{parentName:"li"},"search"),"\nand ",(0,i.yg)("inlineCode",{parentName:"li"},"GEO")," locations for android and ios"),(0,i.yg)("li",{parentName:"ul"},"Don't forget to update the android ",(0,i.yg)("inlineCode",{parentName:"li"},"android/app/src/main/AndroidManifest.xml"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-xml"},'\n<meta-data\n        android:name="com.google.android.geo.API_KEY"\n        android:value="YOUR API_KEY HERE!"/>\n')),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"and for ios"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("inlineCode",{parentName:"li"},"ios/Runner/AppDelegate.swift")),(0,i.yg)("li",{parentName:"ul"},"GMSServices.provideAPIKey(",(0,i.yg)("inlineCode",{parentName:"li"},"YOUR API_KEY HERE!"),")")),(0,i.yg)("h3",{id:"notifications-ios-apns-and-voip"},"Notifications iOS (APNS) AND VOIP"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Login to your Apple Developer Account,(if you don\u2019t have, you need to create one to be able to test, publish ios app).")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Navigate to ",(0,i.yg)("inlineCode",{parentName:"p"},"Certificates, Identifiers & Profiles > Keys >")," Add New from the left menu."))),(0,i.yg)("p",null,(0,i.yg)("img",{src:n(4520).A,width:"908",height:"313"})),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Register a New key."),(0,i.yg)("li",{parentName:"ul"},"Set the key name as ",(0,i.yg)("inlineCode",{parentName:"li"},"FirebaseAPNS"),"."),(0,i.yg)("li",{parentName:"ul"},"Tick \u201cApple Push Notification Services (APNs)\u201d"),(0,i.yg)("li",{parentName:"ul"},"Click Continue to register it."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("img",{src:n(9011).A,width:"910",height:"465"})),(0,i.yg)("li",{parentName:"ul"},"Once the key is registered follow below steps:"),(0,i.yg)("li",{parentName:"ul"},"Copy the Team ID (keep it aside)"),(0,i.yg)("li",{parentName:"ul"},"Download the Auth key File (keep it aside)"),(0,i.yg)("li",{parentName:"ul"},"Copy the Key ID (keep it aside)"),(0,i.yg)("li",{parentName:"ul"},"Click \u201cDone\u201d to complete."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("img",{src:n(8250).A,width:"912",height:"435"})),(0,i.yg)("li",{parentName:"ul"},"Open Firebase Dashboard > Project Settings"),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("img",{src:n(2917).A,width:"526",height:"406"})),(0,i.yg)("li",{parentName:"ul"},"Click on \u201cCloud Messaging\u201d tab. For the iOS app, click \u201cUpload\u201d."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("img",{src:n(5404).A,width:"925",height:"601"})),(0,i.yg)("li",{parentName:"ul"},"Click on \u201cBrowse\u201d to upload the recently downloaded Auth key file."),(0,i.yg)("li",{parentName:"ul"},"Paste the Key ID"),(0,i.yg)("li",{parentName:"ul"},"Paste the Team ID"),(0,i.yg)("li",{parentName:"ul"},"Click upload to register it.\n",(0,i.yg)("img",{src:n(4135).A,width:"911",height:"555"})),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("strong",{parentName:"li"},"VOIP")," ios setup This key you have downloaded you need to put the content of it to the backend code at the file ",(0,i.yg)("inlineCode",{parentName:"li"},"AuthKey.p8")," it contains ",(0,i.yg)("inlineCode",{parentName:"li"},"XXXX")," just replace all content with the new one you have"),(0,i.yg)("li",{parentName:"ul"},"All done now with ios ",(0,i.yg)("inlineCode",{parentName:"li"},"notifications"))),(0,i.yg)("h4",{id:"ios-background-modes--capabilities"},"iOS Background modes & capabilities"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Enable: Background fetch, Remote notifications, Audio/VoIP if using calls"),(0,i.yg)("li",{parentName:"ul"},"Add ",(0,i.yg)("inlineCode",{parentName:"li"},"Push Notifications")," capability"),(0,i.yg)("li",{parentName:"ul"},"For VoIP, ensure backend token generation and incoming push payloads are correct")),(0,i.yg)("h3",{id:"how-to-update-theme"},"how to update theme"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"For ",(0,i.yg)("inlineCode",{parentName:"li"},"dark")," theme use it already inside the ",(0,i.yg)("inlineCode",{parentName:"li"},"main.dart")," just update it ",(0,i.yg)("inlineCode",{parentName:"li"},"dont delete it!")),(0,i.yg)("li",{parentName:"ul"},"Of course you can update the theme direct from the code if you have much experience")),(0,i.yg)("h4",{id:"first-message-page"},"First message page"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"darkTheme: ThemeData(\n          extensions: [\n            VMessageTheme.dark().copyWith(\n            ///see  options!\n            ),\n          ],\n        ),\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"for ",(0,i.yg)("inlineCode",{parentName:"li"},"light")," theme use")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"   theme: ThemeData(\n            extensions: [\n                 VMessageTheme.dark().copyWith(\n                   ///see options!\n            ),\n            ],\n          ),\n")),(0,i.yg)("h4",{id:"second-chats-room-page"},"second Chats Room page"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"for ",(0,i.yg)("inlineCode",{parentName:"li"},"dark")," theme use")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"darkTheme: ThemeData(\n          extensions: [\n            VRoomTheme.light().copyWith(\n              ///see  options!\n\n              ),\n          ],\n        ),\n")),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"for ",(0,i.yg)("inlineCode",{parentName:"li"},"light")," theme use")),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"   theme: ThemeData(\n            extensions: [\n            VRoomTheme.light().copyWith(\n              ///see options!\n\n              ),\n            ],\n          ),\n")),(0,i.yg)("h3",{id:"one-signal"},"one signal"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Get the onesignal id for push notifications ","[https://onesignal.com]"," see flutter docs"),(0,i.yg)("li",{parentName:"ul"},"then in ",(0,i.yg)("inlineCode",{parentName:"li"},"apps/super_up_app/lib/v_chat_v2/v_chat_config.dart")," enable OneSignal push by add this ",(0,i.yg)("inlineCode",{parentName:"li"},"constructor")),(0,i.yg)("li",{parentName:"ul"},"don't forget to update the app id in ",(0,i.yg)("inlineCode",{parentName:"li"},"SConstants.oneSignalAppId"))),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre"},"      vPush: VPush(\n        enableVForegroundNotification: true,\n        vPushConfig: const VLocalNotificationPushConfig(),\n        ///if you support fcm push notifications\n        fcmProvider: VChatFcmProver(),\n        ///if you support OneSignal push notifications **THIS**\n        oneSignalProvider: VChatOneSignalProver(\n          appId: SConstants.oneSignalAppId,\n        ),\n      ),\n")),(0,i.yg)("p",null,":::fin\nIf firebase is available into your country its recommended to use it\nfor notifications push which its 100% free service with no limits!\n:::"),(0,i.yg)("h3",{id:"admin-panel"},"Admin panel"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"super up introduce admin panel to control the app"),(0,i.yg)("li",{parentName:"ol"},"there are two types of login admin login and viewer login"),(0,i.yg)("li",{parentName:"ol"},"you will have two passwords for the admin one for admin another for viewer"),(0,i.yg)("li",{parentName:"ol"},"admin can do anything viewer can only see the data he cant edit it"),(0,i.yg)("li",{parentName:"ol"},"you can set the password for admin and viewer from the ",(0,i.yg)("inlineCode",{parentName:"li"},".env.production")," file in the backend files this file is\nhidden\n",(0,i.yg)("inlineCode",{parentName:"li"},'#Admin panel passwords be carfaul\nControlPanelAdminPassword= "xxxxxxxxxxxxx" # put strong password for admin who can edit and update any thing in the app\nControlPanelAdminPasswordViewer= "xxxxxxxxxx-xxxx" # put strong password for admin that can only read(see ,users data,chats data etc...) he cannot update any thing')),(0,i.yg)("li",{parentName:"ol"},"You can change it any tine you want to re deploy your app!")),(0,i.yg)("h3",{id:"publish"},"publish"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"open terminal inside the ",(0,i.yg)("inlineCode",{parentName:"li"},"super_up_app")," folder")),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"for android, you can run ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter build apk --split-per-abi")," for\nstore ",(0,i.yg)("a",{parentName:"li",href:"https://docs.flutter.dev/deployment/android"},"publish")),(0,i.yg)("li",{parentName:"ol"},"for web, you can run ",(0,i.yg)("inlineCode",{parentName:"li"},"flutter build web --web-renderer html")," see backend section for how to upload"),(0,i.yg)("li",{parentName:"ol"},"for ios, you can run ",(0,i.yg)("a",{parentName:"li",href:"https://docs.flutter.dev/deployment/ios"},"ios"))),(0,i.yg)("h4",{id:"store-readiness-checklist"},"Store readiness checklist"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"Unique app name and bundle identifiers (Android package, iOS bundle id)"),(0,i.yg)("li",{parentName:"ul"},"App icons and splash (launcher icons, native splash)"),(0,i.yg)("li",{parentName:"ul"},"Privacy policy hosted at ",(0,i.yg)("inlineCode",{parentName:"li"},"https://api.<domain>/privacy-policy.html")),(0,i.yg)("li",{parentName:"ul"},"Working push notifications (keys configured)"),(0,i.yg)("li",{parentName:"ul"},"Release signing (keystore and Apple certificates/profiles)"),(0,i.yg)("li",{parentName:"ul"},"Versioning and changelog")),(0,i.yg)("admonition",{type:"danger"},(0,i.yg)("p",{parentName:"admonition"},"Doesn't update any package version unless you know what to do")))}u.isMDXComponent=!0},2917:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode4-036d089db934a041ea0bb32f7f3cffcf.png"},2934:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/agora-c2b2cbb8f389dd14457f4ea8724fc022.png"},4135:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode6-0f8b5e0c3967bb75e17357b622bd6310.png"},4520:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode1-9969eddc9f1ceaf17ed418a66a404d50.png"},5404:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode5-b7ec7e371d4027d1ac47312ed6db7f1e.png"},6996:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/pk_text_field-8882bfd10875981efdcaa6e3ead9d9cd.png"},7479:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/pk_message-64b799547e2de8bbbd63cb5ccf7cbcd2.png"},7799:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/flutter_project_strc-0c4df074146eb0cfaffaf108320e301b.png"},8250:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode3-42f569236b056bad1c2646e9492e976a.png"},8627:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/pk_chats-fb55830296ec2750b7234be36ca604d9.png"},8860:(e,a,n)=>{n.d(a,{xA:()=>d,yg:()=>c});var t=n(7953);function i(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach(function(a){i(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function r(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)n=l[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=t.createContext({}),s=function(e){var a=t.useContext(p),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},d=function(e){var a=s(e.components);return t.createElement(p.Provider,{value:a},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef(function(e,a){var n=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,d=r(e,["components","mdxType","originalType","parentName"]),g=s(n),m=i,c=g["".concat(p,".").concat(m)]||g[m]||u[m]||l;return n?t.createElement(c,o(o({ref:a},d),{},{components:n})):t.createElement(c,o({ref:a},d))});function c(e,a){var n=arguments,i=a&&a.mdxType;if("string"==typeof e||i){var l=n.length,o=new Array(l);o[0]=m;var r={};for(var p in a)hasOwnProperty.call(a,p)&&(r[p]=a[p]);r.originalType=e,r[g]="string"==typeof e?e:i,o[1]=r;for(var s=2;s<l;s++)o[s]=n[s];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9011:(e,a,n)=>{n.d(a,{A:()=>t});const t=n.p+"assets/images/xcode2-0423ee49c4968fade991f06ad0d1308f.png"}}]);