"use strict";(self.webpackChunksuper_up_docs=self.webpackChunksuper_up_docs||[]).push([[982],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(n),m=o,k=d["".concat(p,".").concat(m)]||d[m]||c[m]||i;return n?a.createElement(k,r(r({ref:t},u),{},{components:n})):a.createElement(k,r({ref:t},u))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:o,r[1]=l;for(var s=2;s<i;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9387:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(7462),o=(n(7294),n(3905));const i={sidebar_position:2},r="Flutter",l={unversionedId:"flutter/flutter",id:"flutter/flutter",title:"Flutter",description:"- project structure in split packages",source:"@site/docs/flutter/flutter.md",sourceDirName:"flutter",slug:"/flutter/",permalink:"/super_up_docs/docs/flutter/",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Super up Intro",permalink:"/super_up_docs/docs/intro"},next:{title:"Backend",permalink:"/super_up_docs/docs/backend/"}},p={},s=[{value:"Change app name,package,logo",id:"change-app-namepackagelogo",level:3},{value:"Connect firebase",id:"connect-firebase",level:3},{value:"SConstants",id:"sconstants",level:3},{value:"Add more language",id:"add-more-language",level:3},{value:"Ads",id:"ads",level:3},{value:"Agora.io",id:"agoraio",level:3},{value:"Google api key",id:"google-api-key",level:3},{value:"Notifications (ios)",id:"notifications-ios",level:3},{value:"how to update theme",id:"how-to-update-theme",level:3},{value:"First message page",id:"first-message-page",level:4},{value:"second Chats Room page",id:"second-chats-room-page",level:4},{value:"one signal",id:"one-signal",level:3},{value:"publish",id:"publish",level:3}],u={toc:s},d="wrapper";function c(e){let{components:t,...i}=e;return(0,o.kt)(d,(0,a.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"flutter"},"Flutter"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"project structure in split packages"),(0,o.kt)("li",{parentName:"ul"},"To run the project first activate ",(0,o.kt)("inlineCode",{parentName:"li"},"melos"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"dart pub global activate melos\n")),(0,o.kt)("p",null,"-then run this commend in the root of the project"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"melos bs\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"this code will run pub get for you in all packages\n",(0,o.kt)("img",{src:n(3232).Z,width:"647",height:"683"})),(0,o.kt)("li",{parentName:"ul"},"we have the following"),(0,o.kt)("li",{parentName:"ul"},"apps (",(0,o.kt)("inlineCode",{parentName:"li"},"super_up_admin"),") this is the admin panel"),(0,o.kt)("li",{parentName:"ul"},"apps (",(0,o.kt)("inlineCode",{parentName:"li"},"super_up_app"),") this app you should run it"),(0,o.kt)("li",{parentName:"ul"},"packages all needed packages the most important packages is the ",(0,o.kt)("inlineCode",{parentName:"li"},"super_up_core")," the ",(0,o.kt)("inlineCode",{parentName:"li"},"s_constants.dart")," in\nthe ",(0,o.kt)("inlineCode",{parentName:"li"},"lib/src"))),(0,o.kt)("h3",{id:"change-app-namepackagelogo"},"Change app name,package,logo"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"this step should be done first before connect firebase"),(0,o.kt)("li",{parentName:"ul"},"we will use this package ",(0,o.kt)("a",{parentName:"li",href:"https://pub.dev/packages/rename"},"rename")),(0,o.kt)("li",{parentName:"ul"},"install by ",(0,o.kt)("inlineCode",{parentName:"li"},"flutter pub global activate rename")),(0,o.kt)("li",{parentName:"ul"},"to change package name ",(0,o.kt)("inlineCode",{parentName:"li"},"flutter pub global run rename --bundleId com.vchatsdk.vnotestarter"),"\nExample => ",(0,o.kt)("inlineCode",{parentName:"li"},"pub global run rename --bundleId com.XXXXXXX.XXXXXX")),(0,o.kt)("li",{parentName:"ul"},"to rename the app use ",(0,o.kt)("inlineCode",{parentName:"li"},'flutter pub global run rename --appname "YOUR APP NAME"'))),(0,o.kt)("h3",{id:"connect-firebase"},"Connect firebase"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/flutter/setup?platform=android"},"android"),",",(0,o.kt)("a",{parentName:"p",href:"https://firebase.google.com/docs/flutter/setup?platform=ios"},"ios")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You can connect it easly be firebase\nCLI ",(0,o.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/flutter/setup?platform=ios#install-cli-tools"},"tool"))),(0,o.kt)("h3",{id:"sconstants"},"SConstants"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"This file inside packages in ","[super_up_core]"," in ",(0,o.kt)("inlineCode",{parentName:"li"},"lib/src/s_constants.dart")),(0,o.kt)("li",{parentName:"ul"},"This file contains the configuration of the app")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-dart"},'abstract class SConstants {\n  ///your super up base domain url\n  ///like this (example.com) not start https// or any sub domains example [superupdev.com]\n  static const _productionBaseUrl = "superupdev.online";\n\n  ///your app name\n  static const appName = "Superup";\n\n  ///android and ios admob ids [https://developers.google.com/admob/flutter/quick-start] [https://developers.google.com/ad-manager/mobile-ads-sdk/flutter/quick-start]\n  static const androidAdUnitId = "ca-app-pub-3940256099942544/6300978111";\n  static const iosAdUnitId = "ca-app-pub-3940256099942544/2934735716";\n\n  ///setup video and voice calls [https://agora.io]\n  static const agoraAppId = "------------------------";\n\n  ///change this to your google maps api key to enable google maps location picker\n  static const googleMapsApiKey = "AIzaSyAP---------------------";\n\n  ///update this url to share the app for others\n  static const googlePlayUrl =\n      "https://play.google.com/store/apps/details?id=com.app.superup";\n  static const appleStoreUrl = "https://testflight.apple.com/join/F4tAbW5J";\n\n  ///get the onesignal id for push notifications [https://onesignal.com]\n  static const oneSignalAppId = "********-****-****-****-**************";\n\n  ///don\'t update\n  static String get feedUrl => "https://$_productionBaseUrl/apps/appcast.xml";\n\n  ///don\'t update\n  static String get baseMediaUrl {\n    return "https://api.$_productionBaseUrl/";\n  }\n\n  ///don\'t update\n  static Uri get sApiBaseUrl {\n    return Uri.parse("https://api.$_productionBaseUrl/api/v1");\n  }\n}\n')),(0,o.kt)("h3",{id:"add-more-language"},"Add more language"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You can add new language by just open the ","[s_translation]"," package"),(0,o.kt)("li",{parentName:"ul"},"And inside ",(0,o.kt)("inlineCode",{parentName:"li"},"lib/i18n")," create new file its name should follow the"),(0,o.kt)("li",{parentName:"ul"},"Standard of ",(0,o.kt)("inlineCode",{parentName:"li"},"intl_short language code.arb"),".arb"),(0,o.kt)("li",{parentName:"ul"},"Inside this file copy the ",(0,o.kt)("inlineCode",{parentName:"li"},"intl_en.arb")," and translate only the values and dont touch the key of the map"),(0,o.kt)("li",{parentName:"ul"},"Then, while you run the app, the new language will be added, and it will appears in the selections")),(0,o.kt)("h3",{id:"ads"},"Ads"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"get the ids from these urls get banner id for ios and android")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"android and ios admob\nids ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/admob/flutter/quick-start"},"quick-start"),"  ",(0,o.kt)("a",{parentName:"p",href:"https://developers.google.com/ad-manager/mobile-ads-sdk/flutter/quick-start"},"mobile-ads-sdk"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"dont forget to update the android ",(0,o.kt)("inlineCode",{parentName:"p"},"android/app/src/main/AndroidManifest.xml"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"APPLICATION_ID")," not unit id be ",(0,o.kt)("inlineCode",{parentName:"p"},"careful")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'\n<meta-data\n        android:name="com.google.android.gms.ads.APPLICATION_ID"\n        android:value="ca-app-pub-YOUR KEY HERE!"/>\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"put your android appId for ads here ",(0,o.kt)("inlineCode",{parentName:"li"},"android:value=")),(0,o.kt)("li",{parentName:"ul"},"for Ios update the ",(0,o.kt)("inlineCode",{parentName:"li"},"ios/Runner/Info.plist")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"<key>GADApplicationIdentifier</key>\n<string>ca-app-pub-YOUR KEY HERE!</string>\n")))),(0,o.kt)("h3",{id:"agoraio"},"Agora.io"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Create agora app and enable it cupy the ",(0,o.kt)("inlineCode",{parentName:"li"},"appId")," and"),(0,o.kt)("li",{parentName:"ul"},"Setup video and voice calls ",(0,o.kt)("a",{parentName:"li",href:"https://agora.io"},"agora"),(0,o.kt)("inlineCode",{parentName:"li"},'Static const agoraAppId = "------------------------";'))),(0,o.kt)("h3",{id:"google-api-key"},"Google api key"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Get google api ",(0,o.kt)("a",{parentName:"li",href:"https://developers.google.com/admob/flutter/quick-start"},"key")," and enable all options like ",(0,o.kt)("inlineCode",{parentName:"li"},"search"),"\nand ",(0,o.kt)("inlineCode",{parentName:"li"},"GEO")," locations for android and ios"),(0,o.kt)("li",{parentName:"ul"},"Don't forget to update the android ",(0,o.kt)("inlineCode",{parentName:"li"},"android/app/src/main/AndroidManifest.xml"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'\n<meta-data\n        android:name="com.google.android.geo.API_KEY"\n        android:value="YOUR API_KEY HERE!"/>\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"and for ios"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ios/Runner/AppDelegate.swift")),(0,o.kt)("li",{parentName:"ul"},"GMSServices.provideAPIKey(",(0,o.kt)("inlineCode",{parentName:"li"},"YOUR API_KEY HERE!"),")")),(0,o.kt)("h3",{id:"notifications-ios"},"Notifications (ios)"),(0,o.kt)("p",null,"APNs Integration (IMPORTANT):\nFirebase Cloud Messaging uses Apple Push Notification Service (APNs) to send messages to iOS devices. Therefore, you\nwill need to:"),(0,o.kt)("p",null,'Create an APNs key in the Apple Developer Center.\nUpload this key to the Firebase console in the Cloud Messaging settings for your project.\nConfigure the APNs key in your app by setting up your app\'s capabilities in Xcode. This includes enabling "Push\nNotifications" under "Capabilities".\nOnce you\'ve done all this, your Flutter app on iOS should be able to receive notifications through Firebase!'),(0,o.kt)("h3",{id:"how-to-update-theme"},"how to update theme"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"For ",(0,o.kt)("inlineCode",{parentName:"li"},"dark")," theme use it already inside the ",(0,o.kt)("inlineCode",{parentName:"li"},"main.dart")," just update it  ",(0,o.kt)("inlineCode",{parentName:"li"},"dont delete it!"))),(0,o.kt)("h4",{id:"first-message-page"},"First message page"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"darkTheme: ThemeData(\n          extensions: [\n            VMessageTheme.dark().copyWith(\n            ///see other options!\n              scaffoldDecoration:  BoxDecoration(\n                color: Colors.green\n              ),\n              receiverTextStyle: TextStyle(),\n              receiverBubbleColor: Colors.green\n            ),\n          ],\n        ),\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"for ",(0,o.kt)("inlineCode",{parentName:"li"},"light")," theme use")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"   theme: ThemeData(\n            extensions: [\n                 VMessageTheme.dark().copyWith(\n                   ///see other options!\n              scaffoldDecoration:  BoxDecoration(\n                color: Colors.green\n              ),\n              receiverTextStyle: TextStyle(),\n              receiverBubbleColor: Colors.green\n            ),\n            ],\n          ),\n")),(0,o.kt)("h4",{id:"second-chats-room-page"},"second Chats Room page"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"for ",(0,o.kt)("inlineCode",{parentName:"li"},"dark")," theme use")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"darkTheme: ThemeData(\n          extensions: [\n            VRoomTheme.light().copyWith(\n              ///see other options!\n                scaffoldDecoration: VRoomTheme.light()\n                    .scaffoldDecoration\n                    .copyWith(color: lightColorScheme.background),\n              ),\n          ],\n        ),\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"for ",(0,o.kt)("inlineCode",{parentName:"li"},"light")," theme use")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"   theme: ThemeData(\n            extensions: [\n            VRoomTheme.light().copyWith(\n              ///see other options!\n                scaffoldDecoration: VRoomTheme.light()\n                    .scaffoldDecoration\n                    .copyWith(color: lightColorScheme.background),\n              ),\n            ],\n          ),\n")),(0,o.kt)("h3",{id:"one-signal"},"one signal"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Get the onesignal id for push notifications ","[https://onesignal.com]"," see flutter docs"),(0,o.kt)("li",{parentName:"ul"},"then in ",(0,o.kt)("inlineCode",{parentName:"li"},"apps/super_up_app/lib/v_chat_v2/v_chat_config.dart")," enable OneSignal push by add this ",(0,o.kt)("inlineCode",{parentName:"li"},"constructor")),(0,o.kt)("li",{parentName:"ul"},"dont forget to update the app id in ",(0,o.kt)("inlineCode",{parentName:"li"},"SConstants.oneSignalAppId"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"      vPush: VPush(\n        enableVForegroundNotification: true,\n        vPushConfig: const VLocalNotificationPushConfig(),\n        ///if you support fcm push notifications\n        fcmProvider: VChatFcmProver(),\n        ///if you support OneSignal push notifications **THIS**\n        oneSignalProvider: VChatOneSignalProver(\n          appId: SConstants.oneSignalAppId,\n        ),\n      ),\n")),(0,o.kt)("h3",{id:"publish"},"publish"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"open terminal inside the ",(0,o.kt)("inlineCode",{parentName:"li"},"super_up_app")," folder")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"for android, you can run ",(0,o.kt)("inlineCode",{parentName:"li"},"flutter build apk --split-per-abi")," for\nstore ",(0,o.kt)("a",{parentName:"li",href:"https://docs.flutter.dev/deployment/android"},"publish")),(0,o.kt)("li",{parentName:"ol"},"for web, you can run ",(0,o.kt)("inlineCode",{parentName:"li"},"flutter build web --web-renderer html")),(0,o.kt)("li",{parentName:"ol"},"for ios, you can run ",(0,o.kt)("a",{parentName:"li",href:"https://docs.flutter.dev/deployment/ios"},"ios"))),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Doesn't update any package version unless you know what to do")))}c.isMDXComponent=!0},3232:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/flutter_project_strc-0c4df074146eb0cfaffaf108320e301b.png"}}]);